@@master_page.html
<div id="apibox" class="col-lg-12">
    <div class="card">
        <div class="card-header"><h4>保存登录</h4></div>
        <div class="card-body">
            <div class="form-group">
                <label for="example-text-input">ToKen</label>
                <input v-model="txtToken" class="form-control" type="text" name="role-input" placeholder="保存后请求都会加上Token">
            </div>

            <div class="form-group">
                <button type="button" @click="submitToken" class="btn btn-primary ajax-post" target-form="add-form">确 定</button>
            </div>
        </div>
    </div>
    <div class="card">
        <div class="card-header"><h4>获取Token</h4></div>
        <div class="card-body">
            <div class="form-group">
                <label for="example-text-input">用户名</label>
                <input v-model="userName" class="form-control" type="text" name="role-input" placeholder="用户名">
            </div>
            <div class="form-group">
                <label for="example-text-input">密码</label>
                <input v-model="password" class="form-control" type="text" name="role-input" placeholder="前端加密好的密码">
            </div>
            <div class="form-group">
                <label for="example-text-input">结果:</label>
                {{result}}
            </div>
            <div class="form-group">
                <button type="button" @click="getToken" class="btn btn-primary ajax-post" target-form="add-form">确 定</button>
            </div>
        </div>
    </div>
</div>

<script>
    var vueObj = new Vue({
        el: '#apibox',
        data: {
            data: null,
            error: null,
            txtToken: null,
            userName: null,
            password: null,
            result:null
        },
        mounted() {
            if (jwHeader && jwHeader.headers) {
                this.txtToken = (jwHeader.headers.Authorization + "")
                    .replace("Bearer null", "Bearer ")
                    .replace("Bearer ", "");
            }
        },
        methods: {
            submitToken: function () {
                if (!this.txtToken) {
                    tools.alert("token不能为空");
                } else {
                    localStorage["@@authorizationLocalStorageName"] = this.txtToken;
                    tools.alert("设置成功");
                }
            },
            getToken: function ()
            {
                if (!this.userName || !this.password) {
                    tools.alert("用户名或者密码不能为空");
                } else {
                    axios.post("/api/rezero/token", { userName: this.userName, password: this.password }, jwHeader)
                        .then(response => {
                            this.error = null;
                            this.result = response.data;
                        })
                        .catch(error => {
                            this.error = error.message;
                            this.data = null;
                        });
                }
            }
        }
    });
</script>